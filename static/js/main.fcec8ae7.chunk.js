(this["webpackJsonpwhacking-the-bugs"]=this["webpackJsonpwhacking-the-bugs"]||[]).push([[0],{105:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(48),i=r.n(s),c=(r(63),r(4)),o=r(5),l=(r(64),r(124)),d=r.p+"static/media/logo.c1ccbc7f.svg",u=r(0),b=function(e){var t=e.messagePool,r=e.startGame;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{className:"title",children:"BASH THE BACTERIA"}),Object(u.jsxs)("div",{id:"instructions",style:{fontSize:"0.9em"},children:[Object(u.jsx)("p",{style:{fontWeight:700,marginTop:"0.25em",marginBottom:"0.5em"},children:"INSTRUCTIONS"}),String(t.introMessages[0][0]).split("<<").map((function(e,t){return e.trim().length>0?Object(u.jsx)(l.a,{children:e},t):""}))]}),Object(u.jsx)("div",{onClick:r,className:"startButton",children:Object(u.jsx)("span",{children:"START"})}),Object(u.jsx)("div",{id:"logo",style:{marginTop:"0.5em",width:"100%",zIndex:-1,backgroundImage:"url(".concat(d,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})},j=function(e){var t=e.roundScores,r=e.messagePool,n=e.nextRound,a=e.currentRound,s=function(){return t.map((function(e){return e.bugs})).reduce((function(e,t){return e+t}),0)},i=function(){return Math.floor(t.map((function(e){return e.time})).reduce((function(e,t){return e+t}),0))};return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"BASH THE BACTERIA"}),Object(u.jsxs)("p",{id:"initialEndScore",children:["Round ",a]}),String(r["round".concat(a).concat(1===a||t[a-2].complete?"Success":"Fail","Messages")][0][0]).split("<<").map((function(e,t){return e.trim().length>0?Object(u.jsx)(l.a,{children:e},t):""})),a>1?Object(u.jsxs)("div",{id:"scores",children:[Object(u.jsxs)("div",{className:"scoreLine",children:[Object(u.jsx)("div",{className:"scoreName",children:"Time score:"}),Object(u.jsxs)("div",{className:"scoreText",children:[i()," seconds * 10 = ",10*i()," points!"]})]}),Object(u.jsxs)("div",{className:"scoreLine",children:[Object(u.jsx)("div",{className:"scoreName",children:"Bacteria score:"}),Object(u.jsxs)("div",{className:"scoreText",children:[s()," treated * 10 = ",10*s()," points!"]})]}),Object(u.jsxs)("div",{className:"scoreLine",children:[Object(u.jsx)("div",{className:"scoreName",children:"Total score:"}),Object(u.jsxs)("div",{className:"scoreText",children:[10*i()+10*s()," points!"]})]})]}):"",Object(u.jsx)("div",{onClick:n,className:"startButton endButton",children:Object(u.jsx)("span",{children:"START ROUND"})}),Object(u.jsx)("div",{id:"logo",style:{marginTop:"0.5em",width:"100%",zIndex:-1,backgroundImage:"url(".concat(d,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}):""},p=function(e){var t=e.roundScores,r=e.messagePool,n=e.restartGame,a=function(){return t.map((function(e){return e.complete})).reduce((function(e,t){return e+t}),0)},s=function(){return Math.floor(t.map((function(e){return e.time})).reduce((function(e,t){return e+t}),0))};return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"BASH THE BACTERIA"}),Object(u.jsxs)("p",{id:"initialEndScore",children:["You completed ",t.map((function(e){return e.complete})).reduce((function(e,t){return e+t}),0)," out of 4 rounds and lasted ",s()," seconds!"]}),Object(u.jsxs)("div",{id:"scores",children:[Object(u.jsxs)("div",{className:"scoreLine",children:[Object(u.jsx)("div",{className:"scoreName",children:"Time score:"}),Object(u.jsxs)("div",{className:"scoreText",children:[s()," seconds * 10 = ",10*s()," points!"]})]}),Object(u.jsxs)("div",{className:"scoreLine",children:[Object(u.jsx)("div",{className:"scoreName",children:"Bacteria score:"}),Object(u.jsxs)("div",{className:"scoreText",children:[a()," treated * 10 = ",10*a()," points!"]})]}),Object(u.jsxs)("div",{className:"scoreLine scoreLineF",children:[Object(u.jsx)("div",{className:"scoreName",children:"Final score:"}),Object(u.jsxs)("div",{className:"scoreText",children:[10*s()+10*a()," points!"]})]})]}),String(r.outroMessages[0][0]).split("<<").map((function(e,t){return e.trim().length>0?Object(u.jsx)(l.a,{children:e},t):""})),Object(u.jsx)("div",{onClick:n,className:"startButton endButton",children:Object(u.jsx)("span",{children:"RESTART GAME"})}),Object(u.jsx)("div",{id:"logo",style:{marginTop:"0.5em",width:"100%",zIndex:-1,backgroundImage:"url(".concat(d,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}):""},g=function(e){var t=e.bugs,r=function(){return t.filter((function(e){return e.treated}))[0]?t.filter((function(e){return e.treated}))[0].progressSafeTarget:0},n=function(){return t.filter((function(e){return e.treated}))[0]?t.filter((function(e){return e.treated}))[0].progressTarget:0};return Object(u.jsxs)("div",{id:"progress",style:{position:"relative",display:"flex",height:"1em",width:"100%",backgroundColor:"white",opacity:t.filter((function(e){return e.treated}))[0]?1:0},children:[Object(u.jsx)("div",{id:"safetyBar",style:{height:"100%",position:"absolute",left:200*r()+"%",boxSizing:"border-box",backgroundColor:"green",width:200*(n()-r())+"%",zIndex:5}}),Object(u.jsx)("div",{id:"safetyBar",style:{height:"100%",position:"absolute",left:200*r()+"%",boxSizing:"border-box",backgroundColor:"green",width:200*(n()-r())+"%",zIndex:5}}),Object(u.jsx)("div",{id:"progressbar",style:{height:"100%",backgroundColor:"black",width:200*(t.filter((function(e){return e.treated}))[0]&&t.filter((function(e){return e.treated}))[0].progress>t.filter((function(e){return e.treated}))[0].progressTarget?t.filter((function(e){return e.treated}))[0].progressTarget:t.filter((function(e){return e.treated}))[0]?t.filter((function(e){return e.treated}))[0].progress:0)+"%",zIndex:10}}),Object(u.jsx)("div",{id:"overflowbar",style:{height:"100%",position:"absolute",left:200*n()+"%",boxSizing:"border-box",backgroundColor:"red",width:200*(t.filter((function(e){return e.treated}))[0]&&t.filter((function(e){return e.treated}))[0].progress>.5?.5-t.filter((function(e){return e.treated}))[0].progressTarget:t.filter((function(e){return e.treated}))[0]&&t.filter((function(e){return e.treated}))[0].progress>t.filter((function(e){return e.treated}))[0].progressTarget?t.filter((function(e){return e.treated}))[0].progress-t.filter((function(e){return e.treated}))[0].progressTarget:0)+"%"}})]})},h=function(e){var t=e.extraTime,r=e.maxExtraTime;return Object(u.jsx)("div",{id:"naughtybar",style:{display:"flex",backgroundColor:"white",justifyContent:"end",boxSizing:"border-box",border:"1px black solid"},children:Object(u.jsx)("div",{id:"naughtyprogressbar",style:{position:"absolute",width:"100%",backgroundColor:"red",height:100*(t>r?r:t/r)+"%",bottom:0}})})},m=function(e){var t=e.rewardCount;return Object(u.jsx)("div",{id:"rewardbar",style:{display:"flex",backgroundColor:"white",justifyContent:"end",boxSizing:"border-box",border:"1px black solid"},children:Object(u.jsx)("div",{id:"rewardprogressbar",style:{position:"absolute",width:"100%",backgroundColor:"green",height:100*(t>5?1:t/5)+"%",bottom:0}})})},f=function(e){var t=e.messagePool,r=e.bugimages,n=e.currentRound,a=e.currentTreatment,s=e.setCurrentTreatment;return Object(u.jsxs)("div",{id:"allowedornot",style:{position:"absolute",height:"150px",display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"},children:[n<3?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"allowed",style:{width:"30%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"TREAT THESE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.yellow1,alt:""}),Object(u.jsx)("p",{className:"label",children:t.r2label1Messages[0][0]})]})]}),Object(u.jsxs)("div",{id:"notallowed",style:{width:"30%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"UNTREATABLE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.red1,alt:""}),Object(u.jsx)("p",{className:"label",children:t.r2label2Messages[0][0]})]})]})]}):3===n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"allowed",style:{width:"20%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"TREAT THESE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.yellow1,alt:""}),Object(u.jsx)("p",{className:"label",children:t.r3label1Messages[0][0]})]})]}),Object(u.jsxs)("div",{id:"allowed2",style:{width:"20%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"TREAT THESE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.red1,alt:""}),Object(u.jsx)("p",{class:"label",children:t.r3label2Messages[0][0]})]})]}),Object(u.jsxs)("div",{id:"notallowed",style:{width:"20%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"AVOID THESE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.orange1,alt:""}),Object(u.jsx)("p",{className:"label",children:t.r3label3Messages[0][0]})]})]})]}):4===n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"allowed",style:{width:"20%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"TREAT THESE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.yellow1,alt:""}),Object(u.jsx)("p",{className:"label",children:t.r4label1Messages[0][0]})]})]}),Object(u.jsxs)("div",{id:"allowed2",style:{width:"20%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"TREAT THESE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.red1,alt:""}),Object(u.jsx)("p",{className:"label",children:t.r4label2Messages[0][0]})]})]}),Object(u.jsxs)("div",{id:"allowed3",style:{width:"20%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"TREAT THESE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.orange1,alt:""}),Object(u.jsx)("p",{className:"label",children:t.r4label3Messages[0][0]})]})]}),Object(u.jsxs)("div",{id:"notallowed",style:{width:"20%",border:"1px white solid"},children:[Object(u.jsx)("p",{children:"AVOID THESE"}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},children:[Object(u.jsx)("img",{style:{width:"40%"},src:r.grey,alt:""}),Object(u.jsx)("p",{className:"label",children:t.r4label4Messages[0][0]})]})]})]}):void 0,n>2?Object(u.jsxs)("div",{onClick:function(){return s(1===a?2:1)},id:"antibioticToggle",style:{width:"10%",height:"100%",border:"1px white solid",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",color:"black",backgroundColor:1===a?"yellow":"lightyellow"},children:[Object(u.jsx)("div",{style:{width:"100%",height:"50%"},children:Object(u.jsx)("p",{children:"1"})}),Object(u.jsx)("div",{style:{width:"100%",height:"50%",color:"black",backgroundColor:2===a?"red":"rgb(250,128,114)"},children:Object(u.jsx)("p",{children:"2"})})]}):""]})},x=r.p+"static/media/virusyellow-1-250-min.82c6230b.png",O=r.p+"static/media/virusorange-1-250-min.e390ef9e.png",y=r.p+"static/media/virusred-1-250-min.a67f86ef.png",v=r.p+"static/media/virusyellow-2-250-min.482459b0.png",w=r.p+"static/media/virusorange-2-250-min.52c6da16.png",T=r.p+"static/media/virusred-2-250-min.7b4fa043.png",S=r.p+"static/media/virusunknown-250-min.70469fdd.png",C=function(e){var t=e.laser1,r=e.phit,a=e.music,s=e.stop,i=e.isPlaying,o=e.sound,l=e.messagePool,d=e.currentRound,b=e.currentTreatment,j=e.setCurrentTreatment,p=e.maxExtraTime,C=e.bugSettings,P=e.rewardCount,E=e.setRewardCount,k=e.extraTime,N=e.setExtraTime,D=e.squashed,M=e.setSquashed,A=e.soundOn,I=e.bugs,R=e.setBugs,B=e.timer,H=e.score,z=e.setScore,F={yellow1:x,red1:y,orange1:O,yellow2:v,red2:T,orange2:w,grey:S},L=500,q=function(e){e.preventDefault();var r=Object(c.a)(I),n=r.filter((function(t){return t.id===parseInt(e.target.id)}))[0];if(n.progress>n.progressSafeTarget){var a=Object(c.a)(D);a.push([n.id,Date.now()]),M(a),A&&t(),z(H+1),n.cured=!0;var s=1e3*(n.progress>.5?.5:n.progress-n.progressTarget)*(1-n.progressTarget);P+1>=5?(E(0),N(k-p/2+s<0?0:k-p/2+s)):(E(P+1),N(k+s))}n.treated=!1,R(r)},U=function(e){e.preventDefault();var t=Object(c.a)(I);t.filter((function(t){return t.id===parseInt(e.target.id)}))[0].treated=!1,R(t)},G=function(e){e.preventDefault();var t=Object(c.a)(I),n=t.filter((function(t){return t.id===parseInt(e.target.id)}))[0];if(n&&0===C[n.color].treatable&&!D.filter((function(t){return t[0]===parseInt(e.target.id)}))[0]){var a=Object(c.a)(D);a.push([parseInt(e.target.id),Date.now()]),E(P-1),M(a),A&&r(),N(k+p/10)}else!n||C[n.color].treatable!==b&&3!==C[n.color].treatable||(n.treated||(n.timeTreated=Date.now()),n.treated=!0);R(t)},V=Object(n.useRef)(),J=Object(n.useRef)(Date.now()-500),_=function(){var e=Object(c.a)(I);if(Date.now()-J.current>500){var t=[Math.ceil(75*Math.random())+12.5,Math.ceil(75*Math.random())+12.5];if(function(e){return I.every((function(t){return Math.abs(t.x-e[0])>15&&Math.abs(t.y-e[1])>15}))}(t)&&(0===e.length||e.length<4&&Math.random()>.5)){var n=.125+.25*Math.random(),a=Math.random(),s="yellow";a>C.yellow.appearanceProb&&a<=C.yellow.appearanceProb+C.red.appearanceProb?s="red":a>C.yellow.appearanceProb+C.red.appearanceProb&&a<=C.yellow.appearanceProb+C.red.appearanceProb+C.orange.appearanceProb?s="orange":a>C.yellow.appearanceProb+C.red.appearanceProb+C.orange.appearanceProb&&(s="grey");var i={id:Date.now(),timeAppeared:Date.now(),timeToStayUp:2500+Math.floor(500*Math.random()),color:s,state:0,x:t[0],y:t[1],progress:0,progressSafeTarget:n-.05,progressTarget:n,treated:!1,timeTreated:!1};i.variant="grey"===i.color?"":Math.ceil(2*Math.random()),e.push(i),J.current=Date.now()}}var o=(e=e.map((function(e){return D.filter((function(t){return t[0]===e.id}))[0]&&!e.timeSquashed?(e.timeSquashed=D.filter((function(t){return t[0]===e.id}))[0][1],e.state=3):0===e.state&&Date.now()-e.timeAppeared>L?e.state=1:1===e.state&&Date.now()-e.timeAppeared>L+e.timeToStayUp?e.state=2:(2===e.state&&Date.now()-e.timeAppeared>L+e.timeToStayUp+1e3||3===e.state&&Date.now()-e.timeSquashed>250)&&(e.state=4),e.progress>=1&&e.progress<999?e.progress=999:e.treated&&e.progress<999&&(e.progress=e.progress+(Date.now()-e.timeTreated)/1e3,e.timeTreated=Date.now()),e}))).filter((function(e){return 4===e.state&&C[e.color].treatable>0&&!e.cured})).length;o&&A&&r(),N(k+200*o),E(P-o),e=e.filter((function(e){return e.state<4})),R(e)};Object(n.useEffect)((function(){return A&&!i?a():A||s(),function(){return s()}}),[a,i,s,A,o]),Object(n.useEffect)((function(){return V.current=setInterval((function(){_()}),16.666666666666668),function(){return clearInterval(V.current)}}),[I]);var W=function(e){if(0===e.state)return 100*(Date.now()-e.timeAppeared)/L+"%";if(1===e.state)return"100%";if(2===e.state)return 100-100*(Date.now()-(e.timeAppeared+L+e.timeToStayUp))/1e3+"%";if(3===e.state){var t=1;return e.timeSquashed-e.timeAppeared<L?t=(e.timeSquashed-e.timeAppeared)/L:e.timeSquashed-e.timeAppeared>L+e.timeToStayUp&&(t=(e.timeSquashed-e.timeAppeared-(L+e.timeToStayUp))/250),console.log(t),100*(t-(Date.now()-e.timeSquashed)/250)+"%"}return 4===e.state?"0%":void 0};return Object(n.useEffect)((function(){var e=function(e){32===e.keyCode&&j(1===b?2:1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[b,j]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"BASH THE BACTERIA"}),Object(u.jsx)(g,{bugs:I}),Object(u.jsx)("div",{id:"scorebar",children:Object(u.jsx)("div",{id:"timer",children:Math.floor(B)})}),Object(u.jsxs)("div",{id:"bugboxcontainer",children:[Object(u.jsx)(m,{rewardCount:P}),Object(u.jsx)("div",{id:"bugbox",children:I.map((function(e){return Object(u.jsx)("div",{id:e.id,style:{position:"absolute",bottom:100-e.y+"%",width:"12.5%",height:"12.5%",left:e.x+"%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"end"},disabled:e.state>2,onTouchCancel:U,onTouchEnd:q,onTouchStart:G,onMouseDown:G,onMouseUp:q,onMouseLeave:U,onContextMenu:U,children:Object(u.jsx)("div",{id:e.id,style:{width:100*(e.progress<999?1-e.progressTarget+e.progressTarget*(1-e.progress):e.progressTarget)+"%",height:100*(e.progress<999?1-e.progressTarget+e.progressTarget*(1-e.progress):e.progressTarget)+"%",display:"flex",flexDirection:"column",justifyContent:"end"},children:Object(u.jsx)("div",{id:e.id,style:{width:"100%",overflow:"hidden",height:W(e),backgroundImage:"url(".concat(F[e.color+e.variant],")"),backgroundPosition:"top",backgroundSize:"cover",backgroundRepeat:"no-repeat"}})})},e.id)}))}),Object(u.jsx)(h,{maxExtraTime:p,extraTime:k}),Object(u.jsx)(f,{messagePool:l,bugimages:F,currentRound:d,currentTreatment:b,setCurrentTreatment:j})]})]})},P=r(122),E=r(123),k=r(32),N=r(24),D=r.p+"static/media/laser1.b17a6cd2.mp3",M=r.p+"static/media/phit.95a24661.mp3",A=r.p+"static/media/music.45a268ab.mp3",I=r(70),R=function(){k.a.initialize("UA-214460310-1"),k.a.pageview(window.location.pathname+window.location.search);var e=Object(N.a)(D),t=Object(o.a)(e,1)[0],r=Object(N.a)(M),a=Object(o.a)(r,1)[0],s=Object(N.a)(A),i=Object(o.a)(s,2),l=i[0],d=i[1],g=d.stop,h=d.isPlaying,m=d.sound,f=Object(n.useState)(0),x=Object(o.a)(f,2),O=x[0],y=x[1],v=Object(n.useState)(0),w=Object(o.a)(v,2),T=w[0],S=w[1],R=Object(n.useState)(0),B=Object(o.a)(R,2),H=B[0],z=B[1],F=Object(n.useState)(0),L=Object(o.a)(F,2),q=L[0],U=L[1],G=Object(n.useState)([{complete:0,time:0,bugs:0},{complete:0,time:0,bugs:0},{complete:0,time:0,bugs:0},{complete:0,time:0,bugs:0}]),V=Object(o.a)(G,2),J=V[0],_=V[1],W=Object(n.useState)(!0),Y=Object(o.a)(W,2),Q=Y[0],X=Y[1],K=Object(n.useState)([]),Z=Object(o.a)(K,2),$=Z[0],ee=Z[1],te=Object(n.useState)(1),re=Object(o.a)(te,2),ne=re[0],ae=re[1],se=Object(n.useState)(0),ie=Object(o.a)(se,2),ce=ie[0],oe=ie[1],le=Object(n.useState)(0),de=Object(o.a)(le,2),ue=de[0],be=de[1],je=Object(n.useState)(0),pe=Object(o.a)(je,2),ge=pe[0],he=pe[1],me=Object(n.useState)(0),fe=Object(o.a)(me,2),xe=fe[0],Oe=fe[1],ye=Object(n.useState)([]),ve=Object(o.a)(ye,2),we=ve[0],Te=ve[1],Se=3e3,Ce=function(){U(1),oe(1)},Pe=Object(n.useState)({yellow:{appearanceProb:.9,treatable:1},red:{appearanceProb:.1,treatable:0},orange:{appearanceProb:0,treatable:-1},grey:{appearanceProb:0,treatable:-1}}),Ee=Object(o.a)(Pe,2),ke=Ee[0],Ne=Ee[1],De=function(){ee([]),oe(2),y(0),S(0),be(Date.now()),he(0),ae(1),z(0),1===q?Ne({yellow:{appearanceProb:.9,treatable:1},red:{appearanceProb:.1,treatable:0},orange:{appearanceProb:0,treatable:-1},grey:{appearanceProb:0,treatable:-1}}):2===q?Ne({yellow:{appearanceProb:.5,treatable:1},red:{appearanceProb:.5,treatable:0},orange:{appearanceProb:0,treatable:-1},grey:{appearanceProb:0,treatable:-1}}):3===q?Ne({yellow:{appearanceProb:.45,treatable:1},red:{appearanceProb:.45,treatable:2},orange:{appearanceProb:.1,treatable:0},grey:{appearanceProb:0,treatable:-1}}):4===q&&Ne({yellow:{appearanceProb:.3,treatable:1},red:{appearanceProb:.3,treatable:2},orange:{appearanceProb:.3,treatable:3},grey:{appearanceProb:.1,treatable:0}})},Me=function(){oe(0),y(0),Te([]),ee([])};Object(n.useEffect)((function(){var e;return 2===ce&&T>=Se&&4===q?oe(3):2===ce&&T>=Se?(oe(1),_((function(e){var t=Object(c.a)(e);return t[q-1].bugs=O,t[q-1].complete=1,t[q-1].time=ge,t})),U(q+1)):2===ce&&ge>60&&4===q?(oe(3),_((function(e){var t=Object(c.a)(e);return t[q-1].bugs=O,t[q-1].complete=1,t[q-1].time=60,t}))):2===ce&&ge>60?(oe(1),_((function(e){var t=Object(c.a)(e);return t[q-1].bugs=O,t[q-1].complete=1,t[q-1].time=60,t})),U(q+1)):2===ce&&(e=setTimeout((function(){he((Date.now()-ue)/1e3)}),100)),function(){return clearTimeout(e)}}),[ue,ge,he,ce,T,q,O]),Object(n.useEffect)((function(){if(!xe){var e={},t=I({delimiter:","});t.on("readable",(function(){for(var r;r=t.read();){var n=r[0];e["".concat(n,"Messages")]||(e["".concat(n,"Messages")]=[]),e["".concat(n,"Messages")].push([r[1],r[2],r[3]])}})),t.on("error",(function(e){console.error(e.message)}));fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ9xqpcP13MczJVdD1VVa_CMtHrOM8IeV_Gtt3PebY3kbiueG4R1l6y0H1-ydpoRFL_hhxJay0Wmvbi/pub?gid=0&single=true&output=csv").then((function(e){return e.text()})).then((function(r){!function(e,t){t.split("\n").forEach((function(t){return e.write(t)}))}(t,r),t.end(),Oe(e)}))}}),[xe,Oe]);return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"container",children:[xe?function(e){return 0===e?Object(u.jsx)(b,{messagePool:xe,startGame:Ce}):1===e?Object(u.jsx)(j,{roundScores:J,messagePool:xe,currentRound:q,nextRound:De}):2===e?Object(u.jsx)(C,{laser1:t,phit:a,music:l,stop:g,isPlaying:h,sound:m,messagePool:xe,currentRound:q,currentTreatment:ne,setCurrentTreatment:ae,maxExtraTime:Se,bugSettings:ke,rewardCount:H,setRewardCount:z,extraTime:T,setExtraTime:S,squashed:we,setSquashed:Te,bugs:$,setBugs:ee,soundOn:Q,timer:ge,score:O,setScore:y}):Object(u.jsx)(p,{roundScores:J,messagePool:xe,restartGame:Me})}(ce):"",Object(u.jsx)("div",{id:"volumecontrol",onClick:function(){X(!Q)},children:Q?Object(u.jsx)(P.a,{}):Object(u.jsx)(E.a,{})})]})})},B=function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,125)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(R,{})}),document.getElementById("root")),B()},63:function(e,t,r){},64:function(e,t,r){},92:function(e,t){},94:function(e,t){}},[[105,1,2]]]);
//# sourceMappingURL=main.fcec8ae7.chunk.js.map